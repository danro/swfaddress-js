/*
 * SWFAddress 2.5: Deep linking for Flash and Ajax <http://www.asual.com/swfaddress/>
 *
 * SWFAddress is (c) 2006-2010 Rostislav Hristov and contributors
 * This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 *
 * Uses code from SWFObject 2.1 <http://code.google.com/p/swfobject/>
 * SWFObject is (c) 2007-2009 Geoff Stearns, Michael Williams, and Bobby van der Sluis
 *
 */
var SWFAddressOptimizer=new (function(){var q=function(b){b=b.toString().split(".");for(var a=0;a<3;a++)b[a]=typeof b[a]!=f?parseInt(b[a]):0;a=[0,0,0];var d=null;if(typeof _n.plugins!=f&&typeof _n.plugins[k]==l){if((d=_n.plugins[k].description)&&!(typeof _n.mimeTypes!=f&&_n.mimeTypes[m]&&!_n.mimeTypes[m].enabledPlugin)){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");a[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);a[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);a[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0}}else if(typeof window.ActiveXObject!=f){var c=null,e=false;try{c=new ActiveXObject(j+".7")}catch(p){try{c=new ActiveXObject(j+".6");a=[6,0,21];c.AllowScriptAccess="always"}catch(r){if(a[0]==6)e=true}if(!e)try{c=new ActiveXObject(j)}catch(s){}}if(!e&&typeof c==l)try{if(d=c.GetVariable("$version")){d=d.split(" ")[1].split(",");a=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]}}catch(t){}}return a[0]>b[0]||a[0]==b[0]&&a[1]>b[1]||a[0]==b[0]&&a[1]==b[1]&&a[2]>=b[2]?true:false},n=function(b,a){var d=_l.href.split(_l.hostname)[1].replace(a,"");if(b!="/"&&(!_hash||_index==_l.href.length-1)&&d!=""&&d!="/"){var c;if(window.XMLHttpRequest)c=new XMLHttpRequest;else if(window.ActiveXObject)try{try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){c=new ActiveXObject("Microsoft.XMLHTTP")}}catch(p){}if(c){c.open("get",(typeof a!=f?a:"")+"/?"+b+(_l.hash!=""?"&hash="+_l.hash.replace(/^#/,""):""),false);c.setRequestHeader("Content-Type","application/x-swfaddress");c.send("");(new Function(c.responseText.replace(/^([^(]*)\(([^)]*)\);?$/,"$1($2);")))()}}else/webkit/i.test(_n.userAgent.toLowerCase())&&_d.referrer==_l.href.replace(/#\/?/,"")&&_l.reload()},o=function(b){for(var a=0,d=b.childNodes.length,c,e;a<d;a++){if(b.childNodes[a].src)c=String(b.childNodes[a].src);if(e=o(b.childNodes[a]))c=e}return c},l="object",k="Shockwave Flash",j="ShockwaveFlash.ShockwaveFlash",m="application/x-shockwave-flash",f="undefined",g=o(document),i=g?g.indexOf("?"):-1;_t=function(){try{return top.document!=undefined?top:window}catch(b){return window}}();_d=_t.document;_l=_t.location;_n=navigator;_index=_l.href.indexOf("#");_hash=_index!=-1;_opts={};if(g&&i!=-1){var h;g=g.substr(i+1).split("&");for(i=0;h=g[i];i++){h=h.split("=");if(/^(base|flash|swfaddress)$/.test(h[0]))_opts[h[0]]=unescape(h[1])}}if(_opts.base){if(_hash&&_index-(_l.href.indexOf(_l.pathname,_l.protocol.length+2)+_l.pathname.indexOf(_opts.base)+_opts.base.length)>1)_hash=false;if(typeof _opts.flash!=f)if(q(_opts.flash))n(_opts.swfaddress,_opts.base);else _hash&&_l.replace(_l.href.replace(/#\/?/,""));else n(_opts.swfaddress,_opts.base)}this.toString=function(){return"[class SWFAddressOptimizer]"}});